/*!
 * VERSION: 0.2.1
 * DATE: 2013-04-01
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * ScrambleTextPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var a=function(b){var c=b.nodeType,d="";if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=a(b)}else if(3===c||4===c)return b.nodeValue;return d},b=function(a,b){for(var c=b.length,d="";--a>-1;)d+=b[0|Math.random()*c];return d},c=function(a){this.chars=a.split(""),this.sets=[],this.length=50;var c;for(c=0;20>c;c++)this.sets[c]=b(80,this.chars);this.grow=function(a){for(c=0;20>c;c++)this.sets[c]+=b(a-this.length,this.chars);this.length=a}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=d.toLowerCase(),f={upperCase:new c(d),lowerCase:new c(e),upperAndLowerCase:new c(d+e)},g=window._gsDefine.plugin({propName:"scrambleText",API:2,overwriteProps:["scrambleText","text"],init:function(b,d,e){if(!("innerHTML"in b))return!1;var g=String.fromCharCode(103,114,101,101,110,115,111,99,107,46,99,111,109),h=String.fromCharCode(99,111,100,101,112,101,110,46,105,111),i=String.fromCharCode(47,114,101,113,117,105,114,101,115,45,109,101,109,98,101,114,115,104,105,112,47),j=window?window.location.host:"",k=-1!==j.indexOf(g)||-1!==j.indexOf(h);this._target=b,"object"!=typeof d&&(d={text:d});var l,m,n,o;return this._delimiter=l=d.delimiter||"",this._original=a(b).replace(/\s+/g," ").split("&nbsp;").join("").split(l),this._text=(d.text||d.value||"").replace(/\s+/g," ").split(l),this._hasClass=!1,"string"==typeof d.newClass&&(this._newClass=d.newClass,this._hasClass=!0),"string"==typeof d.oldClass&&(this._oldClass=d.oldClass,this._hasClass=!0),m=this._text.length-this._original.length,this._length=this._original.join(l).length,this._lengthDif=this._text.join(l).length-this._length,this._fillChar=d.fillChar||d.chars&&-1!==d.chars.indexOf(" ")?"&nbsp;":"",this._charSet=o=f[d.chars||"upperCase"]||new c(d.chars),this._speed=.016/(d.speed||1),this._prevScrambleTime=0,this._setIndex=0|20*Math.random(),n=this._length+Math.max(this._lengthDif,0),n>o.length&&o.grow(n),this._chars=o.sets[this._setIndex],this._revealDelay=d.revealDelay||0,this._tweenLength=d.tweenLength!==!1,this._tween=e,k},set:function(a){var f,g,h,i,j,k,b=this._text.length,c=this._delimiter,d=this._tween._time,e=d-this._prevScrambleTime;this._revealDelay&&(this._tween.vars.runBackwards&&(d=this._tween._duration-d),a=0===d?0:this._revealDelay>d?1e-6:d===this._tween._duration?1:this._tween._ease.getRatio((d-this._revealDelay)/(this._tween._duration-this._revealDelay))),0>a?a=0:a>1&&(a=1),f=0|a*b+.5,g=this._text.slice(0,f).join(c),h=this._original.slice(f).join(c),a&&((e>this._speed||-this._speed>e)&&(this._setIndex=(this._setIndex+(0|19*Math.random()))%20,this._chars=this._charSet.sets[this._setIndex],this._prevScrambleTime+=e),h=this._chars.substr(g.length,0|this._length+(this._tweenLength?1-(a=1-a)*a*a*a:1)*this._lengthDif-g.length+.5)),this._hasClass?(i=this._newClass&&0!==f,j=this._oldClass&&f!==b,k=(i?"<span class='"+this._newClass+"'>":"")+g+(i?"</span>":"")+(j?"<span class='"+this._oldClass+"'>":"")+c+h+(j?"</span>":"")):k=g+c+h,this._target.innerHTML="&nbsp;"===this._fillChar&&-1!==k.indexOf("  ")?k.split("  ").join("&nbsp;&nbsp;"):k}}),h=g.prototype;h._newClass=h._oldClass="";for(h in f)f[h.toLowerCase()]=f[h],f[h.toUpperCase()]=f[h]}),window._gsDefine&&window._gsQueue.pop()();